{{CONTROLLER_NAME}}

Description: {{DESCRIPTION}}

Endpoints:
- POST /{{RESOURCE}}: Create
- GET /{{RESOURCE}}/{id}: Get by ID
- PUT /{{RESOURCE}}/{id}: Update
- DELETE /{{RESOURCE}}/{id}: Delete

---

<?php

namespace App\Infrastructure\Web\Controllers;

use App\Application\{{CONTEXT}}\Commands\{{COMMAND_NAME}};
use App\Application\{{CONTEXT}}\Handlers\{{HANDLER_NAME}};
use Illuminate\Http\{Request, JsonResponse};

final class {{CONTROLLER_NAME}}
{
    public function __construct(
        private {{HANDLER_NAME}} $handler
    ) {}
    
    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            '{{FIELD_1}}' => 'required|{{VALIDATION_1}}',
            '{{FIELD_2}}' => 'required|{{VALIDATION_2}}'
        ]);
        
        $command = new {{COMMAND_NAME}}(
            {{FIELD_1}}: $validated['{{FIELD_1}}'],
            {{FIELD_2}}: $validated['{{FIELD_2}}']
        );
        
        try {
            $id = $this->handler->handle($command);
            
            return response()->json([
                'success' => true,
                'id' => $id
            ], 201);
            
        } catch (\DomainException $e) {
            return response()->json([
                'success' => false,
                'error' => $e->getMessage()
            ], 422);
        } catch (\Exception $e) {
            return response()->json([
                'success' => false,
                'error' => 'Internal server error'
            ], 500);
        }
    }
    
    public function show(int $id): JsonResponse
    {
        // Implement GET endpoint
    }
    
    public function update(Request $request, int $id): JsonResponse
    {
        // Implement PUT endpoint
    }
    
    public function destroy(int $id): JsonResponse
    {
        // Implement DELETE endpoint
    }
}
