{{HANDLER_NAME}}

Description: {{DESCRIPTION}}

Dependencies:
- {{DEPENDENCY_1}}: {{TYPE_1}}
- {{DEPENDENCY_2}}: {{TYPE_2}}

Flow:
1. {{STEP_1}}
2. {{STEP_2}}
3. {{STEP_3}}

---

<?php

namespace App\Application\{{CONTEXT}}\Handlers;

use App\Application\{{CONTEXT}}\Commands\{{COMMAND_NAME}};
use App\Domain\{{CONTEXT}}\Repositories\{{REPOSITORY_NAME}};

final class {{HANDLER_NAME}}
{
    public function __construct(
        private {{REPOSITORY_NAME}} ${{REPOSITORY_VAR}},
        private {{DEPENDENCY_TYPE}} ${{DEPENDENCY_VAR}}
    ) {}
    
    public function handle({{COMMAND_NAME}} $command): {{RETURN_TYPE}}
    {
        // 1. Fetch required data
        $entity = $this->{{REPOSITORY_VAR}}->getById($command->{{ID_FIELD}});
        
        // 2. Execute domain logic
        $entity->{{DOMAIN_METHOD}}($command->{{PARAM}});
        
        // 3. Persist changes
        $this->{{REPOSITORY_VAR}}->save($entity);
        
        // 4. Return result
        return $entity->getId()->getValue();
    }
}
